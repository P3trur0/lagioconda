((scope) => {
  const DUMMY_DATA = `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`

  const ws = new scope.WebSocket('wss://echo.websocket.org')

  const container = scope.$('div[data-container]')

  const onmessage = (event) => {
    const data = []
    for (let i = 0; i < 4; i++) {
      data.push(DUMMY_DATA)
    }

    container.html('')

    data.forEach(element => {
      container.append(`<img src="data:image/jpeg;base64,${element}" />`)
    })
  }

  const onopen = (event) => {
    document.querySelector('span[data-status]').innerHTML = 'Connected'
  }

  ws.onmessage = onmessage
  ws.onopen = onopen

  scope.send = () => {
    ws.send('DUMMY')
  }
})(window)
